<html>

<head>
    <meta charset="UTF-8">
    <title>怪物查詢頁面</title>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.1/jquery.min.js"></script>
    <!--<link rel="stylesheet" href="../General Style.css">-->
</head>

<body>
<a href="./home page.html"><img src="./img/little logo.png"></a>

    <div class="main_function">
        <input type="button" onclick="location.href='./quest page.html';" value="任務查詢">
        <input type="button" onclick="location.href='./gear page.html';" value="裝備查詢">
        <input type="button" onclick="location.href='./NPC page.html';" value="NPC查詢">
        <input type="button" onclick="location.href='./monster page.html';" value="怪物查詢">
    </div>

    <div id="monster_search_part">
        <select id="search_by_what">
            <option value="">請選擇查詢方式</option>
            <option value="search_by_name">以怪物名稱查詢</option>
            <option value="search_by_place">以所在地點查詢</option>
            <option value="search_by_level">以等級查詢</option>
            <option value="search_by_health">以血量查詢</option>
            <option value="search_by_atk">以攻擊力查詢</option>
            <option value="search_by_def">以防禦力查詢</option>
            <option value="search_by_exp">以掉落經驗查詢</option>
        </select>
        <input type="button" value="確認" id="check">

        <p id="max_input">最小值 : <input type="number" id="num_min"></p>
        <p id="min_input">最大值 : <input type="number" id="num_max"></p>
        <input type="text" id="text_input">
        <input type="submit" value="送出" id="submit">

        <p id="error_message"></p>
    </div>

    <table id="data_part" style="border:3px #cccccc solid;" cellpadding="10" border='1'>
        <thead>
            <tr>
                <th>怪物名稱</th>
                <th>所在地圖</th>
                <th>等級</th>
                <th>血量</th>
                <th>攻擊力</th>
                <th>防禦力</th>
                <th>掉落經驗值</th>
            </tr>
        </thead>
    </table>
</body>

<script>
    $("#max_input, #min_input, #text_input, #submit").hide();

    $("#check").click(function() {
        $("#max_input, #min_input, #text_input, #submit").hide();

        let drop_down_list = $("#search_by_what").val();
        if(drop_down_list == "search_by_name") {
            $("#text_input").val("").attr('placeholder', "請輸入怪物名稱").delay(300).fadeIn(300);
        } else if(drop_down_list == "search_by_place") {
            $("#text_input").val("").attr('placeholder', "請輸入所在地").delay(300).fadeIn(300);
        } else {
            $("#max_input, #min_input").delay(300).fadeIn(300);
        }

        $("#submit").delay(300).fadeIn(300);
    });

    $("#submit").click(function() {
        $("#error_message").hide();
        let drop_down_list = $("#search_by_what").val();
        if(drop_down_list == "search_by_name" || drop_down_list == "search_by_place") {
            let input = $("#text_input").val();
            console.log(input);
        } else {
            let min = parseInt($("#num_min").val());
            let max = parseInt($("#num_max").val());
            
            if (min <= 0 || max <= 0) {
                $("#error_message").html("輸入錯誤 - 最大值與最小值必須大於0");
            } else if(min > max) {
                $("#error_message").html("輸入錯誤 - 最大值必須大於/等於最小值");
            } else {
                $("#error_message").html("輸入正確 - 正在取得資料");
            }

            $("#error_message").delay(300).fadeIn(300);
            console.log(min);
            console.log(max);
        }
    });
</script>

</html>
